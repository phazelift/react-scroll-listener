(function(){var t,r,o,l,n,e,s=function(t,r){return function(){return t.apply(r,arguments)}};n=require("types.js"),e=require("uuid"),t=function(){function t(t){this._onHostScroll=s(this._onHostScroll,this),this._onHostScrollEnd=s(this._onHostScrollEnd,this),t=n.forceObject(t),this.scrollHost=n.forceObject(t.host),this.scrollStartHandlers={},this.scrollEndHandlers={},this.scrollTop=0,this.isScrolling=!1,this.scrollTimeoutDelay=n.forceNumber(t.delay,r),this._scrollTimeout=void 0,this.scrollListenerSet=!1}var r;return r=300,t.prototype.addScrollEventListener=function(){if(!this.scrollListenerSet){if(!this.scrollHost.addEventListener){if("undefined"==typeof window)return console.log("ScrollListener::addScrollEventListener -> bad or missing host/window, cannot add event-listener!");this.scrollHost=window}return this.scrollHost.addEventListener("scroll",this._onHostScroll),this.scrollListenerSet=!0}},t.prototype.removeScrollEventListener=function(){return this.scrollHost.removeEventListener("scroll",this._onHostScroll)},t.prototype.addScrollHandler=function(t,r,o){return(t=n.forceString(t))?(r=n.forceFunction(r),o&&!this.scrollEndHandlers[t]?this.scrollEndHandlers[t]=r:this.scrollStartHandlers[t]||(this.scrollStartHandlers[t]=r),this.addScrollEventListener()):console.log("ScrollListener::addScrollHandler -> cannot add handler without id!")},t.prototype.addScrollStartHandler=function(t,r){return this.addScrollHandler(t,r)},t.prototype.addScrollEndHandler=function(t,r){return this.addScrollHandler(t,r,!0)},t.prototype.removeScrollStartHandler=function(t){return delete this.scrollStartHandlers[t]},t.prototype.removeScrollEndHandler=function(t){return delete this.scrollEndHandlers[t]},t.prototype.removeScrollHandlers=function(){return this.scrollStartHandlers={},this.scrollEndHandlers={}},t.prototype._onHostScrollEnd=function(t){var r,o;if(this.scrollTop===this.scrollHost.pageYOffset){clearTimeout(this._scrollTimeout),this.isScrolling=!1,o=[];for(r in this.scrollEndHandlers)o.push(this.scrollEndHandlers[r](t));return o}},t.prototype._onHostScroll=function(t){var r;this.isScrolling=!0,this.scrollTop=this.scrollHost.pageYOffset,clearTimeout(this._scrollTimeout);for(r in this.scrollStartHandlers)this.scrollStartHandlers[r](t);return this._scrollTimeout=setTimeout(this._onHostScrollEnd.bind(this,t),this.scrollTimeoutDelay)},t}(),o={},l=function(r){return o[r]||(o[r]=new t)},r=function(t){var r,o,s;return s=e.v4(),o=e.v4(),r={scrollListener:l(n.forceString(t,"generic")),componentDidMount:function(){return this.scrollListener.addScrollStartHandler(s,this.onScrollStart),this.scrollListener.addScrollEndHandler(o,this.onScrollEnd)},componentWillUnmount:function(){return this.scrollListener.removeScrollStartHandler(s),this.scrollListener.removeScrollEndHandler(o)}}},t.componentWillMount=function(){throw new Error("You are trying to use ScrollListenerMixin as an object, but it's a Function! Check the mixin for usage details.")},t.Mixin=r,t.ScrollListenerMixin=r,module.exports=t}).call(this);