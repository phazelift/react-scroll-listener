(function(){var t,r,o,l,e,n,s=function(t,r){return function(){return t.apply(r,arguments)}};o=require("react/lib/ViewportMetrics"),n=require("types.js"),r=function(){function t(t){this._onHostScroll=s(this._onHostScroll,this),this._onHostScrollEnd=s(this._onHostScrollEnd,this),t=n.forceObject(t),this.scrollHost=n.forceObject(t.host),this.scrollStartHandlers={},this.scrollEndHandlers={},this.scrollTop=0,this.isScrolling=!1,this.scrollTimeoutDelay=n.forceNumber(t.delay,r),this._scrollTimeout=void 0,this.scrollListenerAdded=!1}var r;return r=300,t.prototype.addScrollEventListener=function(){if(!this.scrollListenerAdded){if(!this.scrollHost.addEventListener){if("undefined"==typeof window)return console.log("ScrollListener::addScrollEventListener -> bad or missing host/window, cannot add event-listener!");this.scrollHost=window}return this.scrollHost.addEventListener("scroll",this._onHostScroll),this.scrollListenerAdded=!0}},t.prototype.removeScrollEventListener=function(){return this.scrollHost.removeEventListener("scroll",this._onHostScroll)},t.prototype.setScrollHandler=function(t,r,o){},t.prototype.addScrollHandler=function(t,r,o){return(t=n.forceString(t))?(r=n.forceFunction(r),o&&!this.scrollEndHandlers[t]?this.scrollEndHandlers[t]=r:this.scrollStartHandlers[t]||(this.scrollStartHandlers[t]=r),this.addScrollEventListener()):console.log("ScrollListener::addScrollHandler -> could not add handler! id: "+t)},t.prototype.removeScrollHandler=function(t,r){return r?delete this.scrollEndHandlers[t]:delete this.scrollStartHandlers[t]},t.prototype._onHostScrollEnd=function(){var t,r;if(this.scrollTop===o.currentScrollTop){clearTimeout(this._scrollTimeout),this.isScrolling=!1,r=[];for(t in this.scrollEndHandlers)r.push(this.scrollEndHandlers[t]());return r}},t.prototype._onHostScroll=function(){var t;this.isScrolling=!0,this.scrollTop=o.currentScrollTop,clearTimeout(this._scrollTimeout);for(t in this.scrollStartHandlers)this.scrollStartHandlers[t]();return this._scrollTimeout=setTimeout(this._onHostScrollEnd,this.scrollTimeoutDelay)},t}(),l={},e=function(t){return l[t]||(l[t]=new r)},t=function(r,o,l){var s,i;return i=n.forceString(o,Date.now()),s=n.forceString(l,Date.now()+1),t={scrollListener:e(n.forceString(r,"generic")),componentDidMount:function(){return this.scrollListener.addScrollHandler(i,this.onScrollStart),this.scrollListener.addScrollHandler(s,this.onScrollEnd,!0)},componentWillUnmount:function(){return this.scrollListener.removeScrollHandler(i),this.scrollListener.removeScrollHandler(s,!0)}}},t.componentWillMount=function(){throw new Error("You are trying to use ScrollListener.Mixin as an object, but it's a Function! Check the mixin for usage details.")},r.Mixin=t,module.exports=r}).call(this);